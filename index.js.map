{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render.functions.js","../src/main.js"],"sourcesContent":["const API_KEY = '52417651-378a9ae18bca7d74fedb43ebe';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport async function fetchImages(query, page = 1, perPage = 12) {\n  const url = `${BASE_URL}?key=${API_KEY}&q=${encodeURIComponent(query)}&image_type=photo&orientation=horizontal&safesearch=true&page=${page}&per_page=${perPage}`;\n  try {\n    const response = await fetch(url);\n    if (!response.ok) throw new Error('Error fetching images');\n    const data = await response.json();\n    return data.hits;\n  } catch (error) {\n    console.error('Pixabay fetch error:', error);\n    return [];\n  }\n}","export function renderImages(images, container) {\n  container.innerHTML = images.map(img => `\n    <li class=\"photo-card\">\n      <a href=\"${img.largeImageURL}\" class=\"gallery-link\">\n        <img src=\"${img.webformatURL}\" alt=\"${img.tags}\" loading=\"lazy\" />\n      </a>\n      <div class=\"info\">\n        <p>Likes: <b>${img.likes}</b></p>\n        <p>Views: <b>${img.views}</b></p>\n        <p>Comments: <b>${img.comments}</b></p>\n        <p>Downloads: <b>${img.downloads}</b></p>\n      </div>\n    </li>\n  `).join('');\n}\n\nexport function clearGallery(container) {\n  container.innerHTML = '';\n}\n\nexport function showLoader(loader) {\n  loader.style.display = 'block';\n}\n\nexport function hideLoader(loader) {\n  loader.style.display = 'none';\n}","import { fetchImages } from './js/pixabay-api.js';\nimport { renderImages } from './js/render.functions.js';\n\nlet lightbox;\n\nconst form = document.getElementById('search-form');\nconst gallery = document.getElementById('gallery');\n\nform.addEventListener('submit', async (e) => {\n  e.preventDefault();\n  const query = document.getElementById('search-query').value.trim();\n\n  if (!query) return;\n\n  const images = await fetchImages(query);\n\n  if (images.length === 0) {\n    iziToast.error({\n      message: 'Sorry, there are no images matching your search query. Please try again!',\n      position: 'topRight'\n    });\n    gallery.innerHTML = '';\n    if (lightbox) {\n      lightbox.destroy();\n      lightbox = null;\n    }\n    return;\n  }\n\n  renderImages(images, gallery);\n\n  if (lightbox) {\n    lightbox.destroy();\n  }\n\n  lightbox = new SimpleLightbox('.gallery a.gallery-link', {\n    captions: true,\n    captionsData: 'alt',\n    captionDelay: 250,\n  });\n});\n"],"names":["API_KEY","BASE_URL","fetchImages","query","page","perPage","url","response","error","renderImages","images","container","img","lightbox","form","gallery","e"],"mappings":"ssBAAA,MAAMA,EAAU,qCACVC,EAAW,2BAEV,eAAeC,EAAYC,EAAOC,EAAO,EAAGC,EAAU,GAAI,CAC/D,MAAMC,EAAM,GAAGL,CAAQ,QAAQD,CAAO,MAAM,mBAAmBG,CAAK,CAAC,iEAAiEC,CAAI,aAAaC,CAAO,GAC9J,GAAI,CACF,MAAME,EAAW,MAAM,MAAMD,CAAG,EAChC,GAAI,CAACC,EAAS,GAAI,MAAM,IAAI,MAAM,uBAAuB,EAEzD,OADa,MAAMA,EAAS,QAChB,IACb,OAAQC,EAAO,CACd,eAAQ,MAAM,uBAAwBA,CAAK,EACpC,EACR,CACH,CCdO,SAASC,EAAaC,EAAQC,EAAW,CAC9CA,EAAU,UAAYD,EAAO,IAAIE,GAAO;AAAA;AAAA,iBAEzBA,EAAI,aAAa;AAAA,oBACdA,EAAI,YAAY,UAAUA,EAAI,IAAI;AAAA;AAAA;AAAA,uBAG/BA,EAAI,KAAK;AAAA,uBACTA,EAAI,KAAK;AAAA,0BACNA,EAAI,QAAQ;AAAA,2BACXA,EAAI,SAAS;AAAA;AAAA;AAAA,GAGrC,EAAE,KAAK,EAAE,CACZ,CCXA,IAAIC,EAEJ,MAAMC,EAAO,SAAS,eAAe,aAAa,EAC5CC,EAAU,SAAS,eAAe,SAAS,EAEjDD,EAAK,iBAAiB,SAAU,MAAOE,GAAM,CAC3CA,EAAE,eAAc,EAChB,MAAMb,EAAQ,SAAS,eAAe,cAAc,EAAE,MAAM,OAE5D,GAAI,CAACA,EAAO,OAEZ,MAAMO,EAAS,MAAMR,EAAYC,CAAK,EAEtC,GAAIO,EAAO,SAAW,EAAG,CACvB,SAAS,MAAM,CACb,QAAS,2EACT,SAAU,UAChB,CAAK,EACDK,EAAQ,UAAY,GAChBF,IACFA,EAAS,QAAO,EAChBA,EAAW,MAEb,MACD,CAEDJ,EAAaC,EAAQK,CAAO,EAExBF,GACFA,EAAS,QAAO,EAGlBA,EAAW,IAAI,eAAe,0BAA2B,CACvD,SAAU,GACV,aAAc,MACd,aAAc,GAClB,CAAG,CACH,CAAC"}