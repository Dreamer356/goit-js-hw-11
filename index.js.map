{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render.functions.js","../src/main.js"],"sourcesContent":["const API_KEY = '52417651-378a9ae18bca7d74fedb43ebe'; \nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport async function fetchImages(query, page = 1, perPage = 12) {\n  const url = `${BASE_URL}?key=${API_KEY}&q=${encodeURIComponent(query)}&image_type=photo&orientation=horizontal&safesearch=true&page=${page}&per_page=${perPage}`;\n  try {\n    const response = await fetch(url);\n    if (!response.ok) throw new Error('Error fetching images');\n    const data = await response.json();\n    return data.hits;\n  } catch (error) {\n    console.error('Pixabay fetch error:', error);\n    return [];\n  }\n  \n}\n\n","export function renderImages(images, container) {\n  container.innerHTML = images.map(img => `\n    <div class=\"photo-card\">\n      <img src=\"${img.webformatURL}\" alt=\"${img.tags}\">\n      <p>Likes: ${img.likes} | Views: ${img.views}</p>\n    </div>\n  `).join('');\n}\n","import { fetchImages } from './js/pixabay-api.js';\nimport { renderImages } from './js/render.functions.js';\nimport Notiflix from 'notiflix';\n\nconst form = document.getElementById('search-form');\nconst gallery = document.getElementById('gallery');\nlet currentPage = 1;\nlet currentQuery = '';\n\nform.addEventListener('submit', async (e) => {\n  e.preventDefault();\n  currentQuery = document.getElementById('search-query').value.trim();\n  currentPage = 1;\n  if (!currentQuery) return;\n\n  const images = await fetchImages(currentQuery, currentPage);\n\n  if (images.length === 0) {\n    Notiflix.Notify.failure('Sorry, there are no images matching your search query. Please try again!');\n    gallery.innerHTML = ''; // Очистить предыдущие изображения, если есть\n    return;\n  }\n\n  renderImages(images, gallery);\n});\n\n// Пример для кнопки \"Load More\" (если нужно)\ngallery.addEventListener('scroll', async () => {\n  if (window.innerHeight + window.scrollY >= document.body.offsetHeight - 100) {\n    currentPage++;\n    const images = await fetchImages(currentQuery, currentPage);\n    renderImages([...document.querySelectorAll('.photo-card')].map(c => ({\n      webformatURL: c.querySelector('img').src,\n      tags: c.querySelector('img').alt,\n      likes: parseInt(c.querySelector('p').textContent.split('|')[0].split(':')[1]),\n      views: parseInt(c.querySelector('p').textContent.split('|')[1].split(':')[1])\n    })), gallery);\n    renderImages(images, gallery);\n  }\n});\n"],"names":["API_KEY","BASE_URL","fetchImages","query","page","perPage","url","response","error","renderImages","images","container","img","form","gallery","currentPage","currentQuery","e","Notiflix","c"],"mappings":"svBAAA,MAAMA,EAAU,qCACVC,EAAW,2BAEV,eAAeC,EAAYC,EAAOC,EAAO,EAAGC,EAAU,GAAI,CAC/D,MAAMC,EAAM,GAAGL,CAAQ,QAAQD,CAAO,MAAM,mBAAmBG,CAAK,CAAC,iEAAiEC,CAAI,aAAaC,CAAO,GAC9J,GAAI,CACF,MAAME,EAAW,MAAM,MAAMD,CAAG,EAChC,GAAI,CAACC,EAAS,GAAI,MAAM,IAAI,MAAM,uBAAuB,EAEzD,OADa,MAAMA,EAAS,QAChB,IACb,OAAQC,EAAO,CACd,eAAQ,MAAM,uBAAwBA,CAAK,EACpC,EACR,CAEH,CCfO,SAASC,EAAaC,EAAQC,EAAW,CAC9CA,EAAU,UAAYD,EAAO,IAAIE,GAAO;AAAA;AAAA,kBAExBA,EAAI,YAAY,UAAUA,EAAI,IAAI;AAAA,kBAClCA,EAAI,KAAK,aAAaA,EAAI,KAAK;AAAA;AAAA,GAE9C,EAAE,KAAK,EAAE,CACZ,CCHA,MAAMC,EAAO,SAAS,eAAe,aAAa,EAC5CC,EAAU,SAAS,eAAe,SAAS,EACjD,IAAIC,EAAc,EACdC,EAAe,GAEnBH,EAAK,iBAAiB,SAAU,MAAOI,GAAM,CAI3C,GAHAA,EAAE,eAAc,EAChBD,EAAe,SAAS,eAAe,cAAc,EAAE,MAAM,OAC7DD,EAAc,EACV,CAACC,EAAc,OAEnB,MAAMN,EAAS,MAAMR,EAAYc,EAAcD,CAAW,EAE1D,GAAIL,EAAO,SAAW,EAAG,CACvBQ,EAAS,OAAO,QAAQ,0EAA0E,EAClGJ,EAAQ,UAAY,GACpB,MACD,CAEDL,EAAaC,EAAQI,CAAO,CAC9B,CAAC,EAGDA,EAAQ,iBAAiB,SAAU,SAAY,CAC7C,GAAI,OAAO,YAAc,OAAO,SAAW,SAAS,KAAK,aAAe,IAAK,CAC3EC,IACA,MAAML,EAAS,MAAMR,EAAYc,EAAcD,CAAW,EAC1DN,EAAa,CAAC,GAAG,SAAS,iBAAiB,aAAa,CAAC,EAAE,IAAIU,IAAM,CACnE,aAAcA,EAAE,cAAc,KAAK,EAAE,IACrC,KAAMA,EAAE,cAAc,KAAK,EAAE,IAC7B,MAAO,SAASA,EAAE,cAAc,GAAG,EAAE,YAAY,MAAM,GAAG,EAAE,CAAC,EAAE,MAAM,GAAG,EAAE,CAAC,CAAC,EAC5E,MAAO,SAASA,EAAE,cAAc,GAAG,EAAE,YAAY,MAAM,GAAG,EAAE,CAAC,EAAE,MAAM,GAAG,EAAE,CAAC,CAAC,CAClF,EAAM,EAAGL,CAAO,EACZL,EAAaC,EAAQI,CAAO,CAC7B,CACH,CAAC"}