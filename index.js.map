{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const API_KEY = '52417651-378a9ae18bca7d74fedb43ebe';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport async function fetchImages(query, page = 1, perPage = 12) {\n  const url = `${BASE_URL}?key=${API_KEY}&q=${encodeURIComponent(query)}&image_type=photo&orientation=horizontal&safesearch=true&page=${page}&per_page=${perPage}`;\n\n  try {\n    const response = await fetch(url);\n    if (!response.ok) throw new Error('Error fetching images');\n\n    const data = await response.json();\n\n    return data.hits || [];\n  } catch (error) {\n    console.error('Pixabay fetch error:', error);\n    return [];\n  }\n}\n","export function renderImages(images, container) {\n  container.innerHTML = images.map(img => `\n    <li class=\"photo-card\">\n      <a href=\"${img.largeImageURL}\" class=\"gallery-link\">\n        <img src=\"${img.webformatURL}\" alt=\"${img.tags}\" loading=\"lazy\" />\n      </a>\n      <div class=\"info\">\n        <p>Likes: <b>${img.likes}</b></p>\n        <p>Views: <b>${img.views}</b></p>\n        <p>Comments: <b>${img.comments}</b></p>\n        <p>Downloads: <b>${img.downloads}</b></p>\n      </div>\n    </li>\n  `).join('');\n}\n\nexport function clearGallery(container) {\n  container.innerHTML = '';\n}\n\nexport function showLoader(loader) {\n  loader.style.display = 'block';\n}\n\nexport function hideLoader(loader) {\n  loader.style.display = 'none';\n}\n","import { fetchImages } from './js/pixabay-api.js';\nimport { renderImages, showLoader, hideLoader, clearGallery } from './js/render-functions.js';\n\nlet lightbox;\n\nconst form = document.querySelector('.form');\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\n\nform.addEventListener('submit', async (e) => {\n  e.preventDefault();\n  const query = document.getElementById('search-query').value.trim();\n  if (!query) return;\n\n  showLoader(loader);\n  clearGallery(gallery);\n\n  try {\n    const images = await fetchImages(query);\n\n    if (images.length === 0) {\n      iziToast.error({\n        message: 'Sorry, there are no images matching your search query. Please try again!',\n        position: 'topRight'\n      });\n      if (lightbox) {\n        lightbox.destroy();\n        lightbox = null;\n      }\n      return;\n    }\n\n    renderImages(images, gallery);\n\n    if (lightbox) {\n      lightbox.destroy();\n    }\n\n    lightbox = new SimpleLightbox('.gallery a.gallery-link', {\n      captions: true,\n      captionsData: 'alt',\n      captionDelay: 250,\n    });\n  } catch (error) {\n    console.error(error);\n    iziToast.error({\n      message: 'Something went wrong. Please try again!',\n      position: 'topRight'\n    });\n  } finally {\n    hideLoader(loader);\n  }\n});\n"],"names":["API_KEY","BASE_URL","fetchImages","query","page","perPage","url","response","error","renderImages","images","container","img","clearGallery","showLoader","loader","hideLoader","lightbox","form","gallery","e"],"mappings":"ssBAAA,MAAMA,EAAU,qCACVC,EAAW,2BAEV,eAAeC,EAAYC,EAAOC,EAAO,EAAGC,EAAU,GAAI,CAC/D,MAAMC,EAAM,GAAGL,CAAQ,QAAQD,CAAO,MAAM,mBAAmBG,CAAK,CAAC,iEAAiEC,CAAI,aAAaC,CAAO,GAE9J,GAAI,CACF,MAAME,EAAW,MAAM,MAAMD,CAAG,EAChC,GAAI,CAACC,EAAS,GAAI,MAAM,IAAI,MAAM,uBAAuB,EAIzD,OAFa,MAAMA,EAAS,QAEhB,MAAQ,EACrB,OAAQC,EAAO,CACd,eAAQ,MAAM,uBAAwBA,CAAK,EACpC,EACR,CACH,CCjBO,SAASC,EAAaC,EAAQC,EAAW,CAC9CA,EAAU,UAAYD,EAAO,IAAIE,GAAO;AAAA;AAAA,iBAEzBA,EAAI,aAAa;AAAA,oBACdA,EAAI,YAAY,UAAUA,EAAI,IAAI;AAAA;AAAA;AAAA,uBAG/BA,EAAI,KAAK;AAAA,uBACTA,EAAI,KAAK;AAAA,0BACNA,EAAI,QAAQ;AAAA,2BACXA,EAAI,SAAS;AAAA;AAAA;AAAA,GAGrC,EAAE,KAAK,EAAE,CACZ,CAEO,SAASC,EAAaF,EAAW,CACtCA,EAAU,UAAY,EACxB,CAEO,SAASG,EAAWC,EAAQ,CACjCA,EAAO,MAAM,QAAU,OACzB,CAEO,SAASC,EAAWD,EAAQ,CACjCA,EAAO,MAAM,QAAU,MACzB,CCvBA,IAAIE,EAEJ,MAAMC,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAU,SAAS,cAAc,UAAU,EAC3CJ,EAAS,SAAS,cAAc,SAAS,EAE/CG,EAAK,iBAAiB,SAAU,MAAOE,GAAM,CAC3CA,EAAE,eAAc,EAChB,MAAMjB,EAAQ,SAAS,eAAe,cAAc,EAAE,MAAM,OAC5D,GAAKA,EAEL,CAAAW,EAAWC,CAAM,EACjBF,EAAaM,CAAO,EAEpB,GAAI,CACF,MAAMT,EAAS,MAAMR,EAAYC,CAAK,EAEtC,GAAIO,EAAO,SAAW,EAAG,CACvB,SAAS,MAAM,CACb,QAAS,2EACT,SAAU,UAClB,CAAO,EACGO,IACFA,EAAS,QAAO,EAChBA,EAAW,MAEb,MACD,CAEDR,EAAaC,EAAQS,CAAO,EAExBF,GACFA,EAAS,QAAO,EAGlBA,EAAW,IAAI,eAAe,0BAA2B,CACvD,SAAU,GACV,aAAc,MACd,aAAc,GACpB,CAAK,CACF,OAAQT,EAAO,CACd,QAAQ,MAAMA,CAAK,EACnB,SAAS,MAAM,CACb,QAAS,0CACT,SAAU,UAChB,CAAK,CACL,QAAY,CACRQ,EAAWD,CAAM,CAClB,EACH,CAAC"}